<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Test - NutriVision AI</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-section { margin: 20px 0; padding: 20px; border: 1px solid #ccc; border-radius: 10px; }
        .btn { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; cursor: pointer; }
        .btn-primary { background: #007bff; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .food-tag { background: #28a745; color: white; padding: 5px 10px; margin: 5px; border-radius: 15px; display: inline-block; }
        .remove-btn { background: none; border: none; color: white; cursor: pointer; margin-left: 10px; }
        #results { margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 10px; display: none; }
        .nutrition-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; margin: 20px 0; }
        .nutrition-item { background: #007bff; color: white; padding: 15px; border-radius: 10px; text-align: center; }
        .suggestions-list { margin: 20px 0; }
        .suggestion-item { background: #28a745; color: white; padding: 15px; margin: 10px 0; border-radius: 10px; }
    </style>
</head>
<body>
    <h1>üß™ Frontend Test - NutriVision AI</h1>
    
    <div class="test-section">
        <h2>Manual Food Entry Test</h2>
        <div>
            <input type="text" id="foodInput" placeholder="Enter food name (e.g., apple, chicken breast)">
            <button class="btn btn-secondary" id="addFoodBtn">
                <i class="fas fa-plus"></i> Add Food
            </button>
        </div>
        <div id="foodList">
            <!-- Food items will be added here -->
        </div>
        <button class="btn btn-primary" id="analyzeFoodsBtn" disabled>
            <i class="fas fa-calculator"></i> Analyze Foods
        </button>
    </div>
    
    <div id="results">
        <h2>Analysis Results</h2>
        <div id="nutritionGrid">
            <!-- Nutrition values will be populated here -->
        </div>
        <div id="suggestionsList">
            <!-- Suggestions will be populated here -->
        </div>
    </div>
    
    <div class="test-section">
        <h2>Console Log</h2>
        <p>Open browser console (F12) to see detailed logs</p>
        <button class="btn btn-secondary" onclick="console.log('Manual test button clicked')">
            Test Console Log
        </button>
    </div>

    <script src="static/js/app.js"></script>
    <script>
        // Additional test functions
        console.log('üß™ Frontend test page loaded');
        
        // Test if functions are available globally
        console.log('Global functions test:');
        console.log('  - analyzeFoods:', typeof window.analyzeFoods);
        console.log('  - addFood:', typeof window.addFood);
        console.log('  - removeFood:', typeof window.removeFood);
        
        // Test button functionality manually
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìã DOM loaded in test page');
            
            // Test button clicks
            const testBtn = document.getElementById('addFoodBtn');
            if (testBtn) {
                testBtn.addEventListener('click', function() {
                    console.log('üéØ Test add food button clicked');
                    if (typeof addFood === 'function') {
                        addFood();
                    } else {
                        console.error('‚ùå addFood function not available');
                    }
                });
            }
            
            const analyzeBtn = document.getElementById('analyzeFoodsBtn');
            if (analyzeBtn) {
                analyzeBtn.addEventListener('click', function() {
                    console.log('üéØ Test analyze foods button clicked');
                    if (typeof analyzeFoods === 'function') {
                        analyzeFoods();
                    } else {
                        console.error('‚ùå analyzeFoods function not available');
                    }
                });
            }
        });
    </script>
</body>
</html>


